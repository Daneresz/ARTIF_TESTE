<%- include('../../admin-matrix-header.ejs') %>

        <div class="admin-header" style="margin-bottom: 40px;">
            <h1>‚úèÔ∏è EDITAR ARTISTA</h1>
            <p class="subtitle">> Modify Artist Profile</p>
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <a href="/admin/artista/lst" class="btn" style="margin-bottom: 20px;">‚Üê Voltar √† Lista</a>
            
            <form method="post" action="/admin/artista/edt/<%= Musica._id %>" enctype="multipart/form-data" class="admin-form">
                <div class="form-group">
                    <label>üë§ Nome do Artista:</label>
                    <input type="text" name="artista" value="<%= Musica.artista %>" required>
                </div>
                
                <div class="form-group">
                    <label>üé® Artes:</label>
                    <div style="background: rgba(0, 0, 0, 0.5); border: 2px solid rgba(0, 255, 0, 0.3); padding: 15px; border-radius: 0;">
                        <% const isExploring = !Musica.artes || Musica.artes.length === 0 %>
                        <label style="display: flex; align-items: center; margin-bottom: 10px; cursor: pointer;">
                            <input type="checkbox" name="explorer" value="true" <% if (isExploring) { %>checked<% } %> style="margin-right: 10px; cursor: pointer;">
                            <span style="color: #00ff00;">Apenas Explorando</span>
                        </label>
                        <% if (Artes && Artes.length > 0) { %>
                            <% Artes.forEach(arte => { %>
                                <% const isSelected = Musica.artes && Musica.artes.includes(arte.titulo) %>
                                <label style="display: flex; align-items: center; margin-bottom: 10px; cursor: pointer;">
                                    <input type="checkbox" name="artes" value="<%= arte.titulo %>" <% if (isSelected) { %>checked<% } %> style="margin-right: 10px; cursor: pointer;">
                                    <span style="color: #00ff00;"><%= arte.titulo %></span>
                                </label>
                            <% }) %>
                        <% } %>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>üéÇ Idade:</label>
                    <input type="number" name="idade" value="<%= Musica.idade %>" required>
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <a href="/admin/artista/lst" class="btn" style="flex: 1; text-align: center;">Cancelar</a>
                    <button type="submit" class="btn" style="flex: 1;">‚úì Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>

<%- include('../../admin-matrix-footer.ejs') %>
        <div>
            <label>Imagem (capa)</label>
            <% if (Musica.perfil) { %>
                <div><img src="<%= Musica.perfil %>" style="width:120px;height:auto"></div>
            <% } %>
            <input type="file" name="perfil" accept="image/*">
        </div>
        <!-- YouTube field hidden but preserved -->
        <input type="hidden" name="youtube" value="<%= Musica.youtube %>">
        <button type="submit">Salvar</button>
    </form>
    <%- include('../../rodape.ejs') %>
